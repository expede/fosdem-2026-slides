<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Automerge + Keyhive | FOSDEM 2026</title>

        <link rel="stylesheet" href="dist/reset.css">
        <link rel="stylesheet" href="dist/reveal.css">
        <link rel="stylesheet" href="dist/theme/expede.css">

        <!-- Theme used for syntax highlighted code -->
        <link rel="stylesheet" href="plugin/highlight/monokai.css">
    </head>
    <body>
		<div class="reveal">
            <!-- Dot grid layers (A=large, B=medium, C=small) -->
            <div class="dot-grid-a"></div>
            <div class="dot-grid-b"></div>
            <div class="dot-grid-c"></div>

            <!-- Ink & Switch style ink splashes -->
            <svg class="ink-splash ink-splash-1" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.503591 21.0854C0.152382 21.6763 -0.0331871 22.3899 0.00490116 23.2173C0.0850636 24.9608 0.881817 25.6885 2.45495 26.2013C4.17556 26.7622 5.03078 27.4766 6.27529 28.8671C7.02598 29.706 7.42237 30.9046 8.42019 31.5074C9.41093 32.1058 10.6966 32.0224 11.7662 32.3511C12.2884 32.5113 12.7649 33.1891 13.3114 33.2474C14.4749 33.3714 14.6835 32.4063 14.5874 31.3551C14.4877 30.2638 13.5634 29.5688 13.0373 28.6805C12.3699 27.5534 12.2551 26.2123 11.5789 25.0888C10.6138 23.4856 9.34006 21.7323 7.87677 20.5413C6.99099 19.8202 6.11364 19.1018 4.93157 19.0616C3.03956 18.9972 1.32116 19.7086 0.502706 21.0854H0.503591Z" fill="currentColor" transform="translate(0, -19)"/>
            </svg>
            <svg class="ink-splash ink-splash-2" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">
              <path d="M149.194 0.608947C148.471 1.02946 147.747 1.59655 146.927 1.86657C144.569 2.64278 143.886 3.71113 144.639 5.9754C144.825 6.5336 145.033 7.17016 144.998 7.77556C144.951 8.60452 144.5 9.009 145.055 9.84039C145.764 10.9014 146.89 11.1441 148.089 10.9405C148.518 10.8676 148.895 10.7146 149.33 10.7145C150.514 10.714 151.679 11.3214 152.851 10.8442C154.256 10.2726 155.248 8.36142 155.683 7.00462C156.337 4.96079 155.534 4.24808 153.982 3.12657C153.084 2.47766 153.079 1.38619 152.273 0.721588C151.1 -0.24512 150.147 0.0546857 149.194 0.608947Z" fill="currentColor" transform="translate(-144.5, 0)"/>
            </svg>
            <svg class="ink-splash ink-splash-3" viewBox="0 0 9 10" xmlns="http://www.w3.org/2000/svg">
              <path d="M124.568 26.7205C126.283 25.9204 127.491 24.1253 126.208 22.0949C123.713 18.1427 119.184 19.8897 119.651 24.3755C119.949 27.2447 122.595 27.641 124.568 26.7205Z" fill="currentColor" transform="translate(-119, -18)"/>
            </svg>
            <svg class="ink-splash ink-splash-4" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.503591 21.0854C0.152382 21.6763 -0.0331871 22.3899 0.00490116 23.2173C0.0850636 24.9608 0.881817 25.6885 2.45495 26.2013C4.17556 26.7622 5.03078 27.4766 6.27529 28.8671C7.02598 29.706 7.42237 30.9046 8.42019 31.5074C9.41093 32.1058 10.6966 32.0224 11.7662 32.3511C12.2884 32.5113 12.7649 33.1891 13.3114 33.2474C14.4749 33.3714 14.6835 32.4063 14.5874 31.3551C14.4877 30.2638 13.5634 29.5688 13.0373 28.6805C12.3699 27.5534 12.2551 26.2123 11.5789 25.0888C10.6138 23.4856 9.34006 21.7323 7.87677 20.5413C6.99099 19.8202 6.11364 19.1018 4.93157 19.0616C3.03956 18.9972 1.32116 19.7086 0.502706 21.0854H0.503591Z" fill="currentColor" transform="translate(0, -19)"/>
            </svg>
            <svg class="ink-splash ink-splash-5" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">
              <path d="M149.194 0.608947C148.471 1.02946 147.747 1.59655 146.927 1.86657C144.569 2.64278 143.886 3.71113 144.639 5.9754C144.825 6.5336 145.033 7.17016 144.998 7.77556C144.951 8.60452 144.5 9.009 145.055 9.84039C145.764 10.9014 146.89 11.1441 148.089 10.9405C148.518 10.8676 148.895 10.7146 149.33 10.7145C150.514 10.714 151.679 11.3214 152.851 10.8442C154.256 10.2726 155.248 8.36142 155.683 7.00462C156.337 4.96079 155.534 4.24808 153.982 3.12657C153.084 2.47766 153.079 1.38619 152.273 0.721588C151.1 -0.24512 150.147 0.0546857 149.194 0.608947Z" fill="currentColor" transform="translate(-144.5, 0)"/>
            </svg>

            <div class="slides">
                <!-- Section 1: Intro -->
                <section data-markdown="slides/01-intro/00-blank.md"></section>
                <section data-markdown="slides/01-intro/01-title.md"></section>
                <section data-markdown="slides/01-intro/02-speakers.md"></section>
                <section data-markdown="slides/01-intro/03-sponsors.md"></section>
                <section data-markdown="slides/01-intro/04-local-first-definition.md"></section>
                <section data-markdown="slides/01-intro/05-the-problem-teaser.md"></section>

                <!-- Section 2: The Problem -->
                <section data-markdown="slides/02-problem/01-section-title.md"></section>
                <section data-markdown="slides/02-problem/02-self-hosting-promise.md"></section>
                <section data-markdown="slides/02-problem/03-self-hosting-reality.md"></section>
                <section data-markdown="slides/02-problem/04-self-hosting-result.md"></section>
                <section data-markdown="slides/02-problem/05-local-first-hope.md"></section>
                <section data-markdown="slides/02-problem/06-servers-still-needed.md"></section>
                <section data-markdown="slides/02-problem/07-enshittification-title.md"></section>
                <section data-markdown="slides/02-problem/08-enshittification-list.md"></section>
                <section data-markdown="slides/02-problem/09-thesis.md"></section>

                <!-- Section 3: Automerge -->
                <section data-markdown="slides/03-automerge/01-section-title.md"></section>
                <section data-markdown="slides/03-automerge/02-crdt-intro.md"></section>
                <section data-markdown="slides/03-automerge/03-never-discard-history.md"></section>
                <section data-markdown="slides/03-automerge/04-client-side-merge.md"></section>
                <section data-markdown="slides/03-automerge/05-dumb-pipe.md"></section>
                <section data-markdown="slides/03-automerge/06-portability.md"></section>

                <!-- Section 4: Keyhive -->
                <section data-markdown="slides/04-keyhive/01-section-title.md"></section>
                <section data-markdown="slides/04-keyhive/02-signal-for-docs.md"></section>
                <section data-markdown="slides/04-keyhive/03-traditional-auth.md"></section>
                <section data-markdown="slides/04-keyhive/04-keyhive-approach.md"></section>
                <section data-markdown="slides/04-keyhive/05-e2e-encrypted.md"></section>
                <section data-markdown="slides/04-keyhive/06-trust-minimized.md"></section>
                <section data-markdown="slides/04-keyhive/07-switch-servers.md"></section>

                <!-- Section 5: The Vision -->
                <section data-markdown="slides/05-vision/01-section-title.md"></section>
                <section data-markdown="slides/05-vision/02-infrastructure.md"></section>
                <section data-markdown="slides/05-vision/03-not-tied.md"></section>
                <section data-markdown="slides/05-vision/04-invisible.md"></section>
                <section data-markdown="slides/05-vision/05-call-to-action.md"></section>
                <section data-markdown="slides/05-vision/06-thank-you.md"></section>
			</div>
		</div>

        <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.2/dist/svg.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/animejs/dist/bundles/anime.umd.min.js"></script>
        <script src="plugin/highlight/highlight.js"></script>
        <script src="dist/reveal.js"></script>
        <script src="plugin/notes/notes.js"></script>
        <script src="plugin/markdown/markdown.js"></script>
        <script src="plugin/math/math.js"></script>
        <script src="plugin/search/search.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js-mermaid-plugin@11.4.1/plugin/mermaid/mermaid.js"></script>
        <script>
         // More info about initialization & config:
         // - https://revealjs.com/initialization/
         // - https://revealjs.com/config/
         // Animate Automerge logo on title slide
         function animateAutomergeLogo() {
           const border = document.querySelector('#automerge-logo .am-border');
           const inner = document.querySelector('#automerge-logo .am-inner');
           const arrow = document.querySelector('#automerge-logo .am-arrow');
           if (!border || !inner || !arrow) return;

           const innerDrawable = anime.svg.createDrawable(inner);

           // Wipe in yellow border from top-left to bottom-right
           anime.animate(border, {
             clipPath: [
               'polygon(0% 0%, 0% 0%, 0% 0%)',
               'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)'
             ],
             ease: 'inOutQuad',
             duration: 800,
             onComplete: function() {
               // Draw inner black border around the shape
               anime.animate(innerDrawable, {
                 draw: ['0 0', '0 1'],
                 ease: 'inOutSine',
                 duration: 800,
                 onComplete: function() {
                   // Wipe in arrow from bottom to top
                   anime.animate(arrow, {
                     clipPath: [
                       'polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)',
                       'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)'
                     ],
                     ease: 'outQuad',
                     duration: 400
                   });
                 }
               });
             }
           });
         }

         // Animate title text (fade + drift from right)
         function animateTitleText() {
           const h1s = document.querySelectorAll('.title-text h1');
           const h2s = document.querySelectorAll('.title-text h2');
           if (!h1s.length) return;

           // Animate h1s first
           anime.animate(h1s, {
             opacity: [0, 1],
             translateX: [30, 0],
             ease: 'outQuad',
             duration: 600,
             delay: function(el, i) { return 800 + i * 100; }
           });

           // Animate h2s after
           anime.animate(h2s, {
             opacity: [0, 1],
             translateX: [20, 0],
             ease: 'outQuad',
             duration: 500,
             delay: 1200
           });
         }

         // Animate sponsor logos
         function animateSponsorLogos() {
           const logos = document.querySelectorAll('.sponsor-logos img');
           if (!logos.length) return;

           anime.animate(logos, {
             opacity: [0, 1],
             translateY: [30, 0],
             scale: [0.8, 1],
             rotate: function() { return anime.random(-5, 5); },
             ease: 'outElastic(1, .6)',
             duration: 1000,
             delay: function(el, i) { return i * 150; }
           });
         }

         // Run animation when page loads (first slide)
         document.addEventListener('DOMContentLoaded', function() {
           setTimeout(function() {
             animateAutomergeLogo();
             animateTitleText();
           }, 300);
         });

         Reveal.initialize({
              width: 1920,
              height: 1080,
             disableLayout: false,

             center: true,
             margin: 0,

             hash: true,
             controls: false,

             autoanimate: true,
             transition: 'fade',
             backgroundTransition: 'fade',

             // Learn about plugins: https://revealjs.com/plugins/
             plugins: [
                 RevealMarkdown,
                 RevealNotes,
                 RevealMath,
                 RevealSearch,
                 RevealMermaid,
                 RevealHighlight,
             ],
         });

         // Trigger animations on slide change
         Reveal.on('slidechanged', function(event) {
           // Animate sponsor logos when that slide appears
           if (event.currentSlide.querySelector('.sponsor-logos')) {
             animateSponsorLogos();
           }

           // Reset and trigger em highlight animations
           // Remove class from all ems first
           document.querySelectorAll('em.highlight-active').forEach(function(em) {
             em.classList.remove('highlight-active');
             em.style.backgroundSize = '0% 100%';
           });
           // Add class to ems on current slide
           event.currentSlide.querySelectorAll('em').forEach(function(em) {
             em.classList.add('highlight-active');
           });
         });

         // Animate "problems" word with clone effect when trigger fragment appears
         Reveal.on('fragmentshown', function(event) {
           if (event.fragment.id === 'trigger-problems-animation') {
             const problemsWord = document.querySelector('#problems-word');
             if (!problemsWord || problemsWord.dataset.animated) return;
             problemsWord.dataset.animated = 'true';

             // Use anime.js splitText with clone parameter
             const { chars } = anime.splitText(problemsWord, {
               chars: {
                 wrap: 'clip',
                 clone: 'bottom'
               }
             });

             anime.createTimeline({ loop: true, loopDelay: 500 })
               .add(chars, {
                 y: '-100%',
                 duration: 750,
                 ease: 'inOut(2)'
               }, anime.stagger(50, { from: 'center' }));
           }

           // NAT traversal - arrows pulse in sequence: top-left, top-right, bottom-right, bottom-left
           if (event.fragment.id === 'need-nat') {
             const arrowInLeft = event.fragment.querySelector('.nat-arrow-in-left');
             const arrowInRight = event.fragment.querySelector('.nat-arrow-in-right');
             const arrowOutLeft = event.fragment.querySelector('.nat-arrow-out-left');
             const arrowOutRight = event.fragment.querySelector('.nat-arrow-out-right');

             anime.createTimeline({ loop: true, loopDelay: 1000 })
               .add(arrowInLeft, {
                 translateX: [0, 3, 0],
                 opacity: [0.5, 1, 0.5],
                 duration: 600,
                 ease: 'inOutSine'
               }, 0)
               .add(arrowInRight, {
                 translateX: [0, 3, 0],
                 opacity: [0.5, 1, 0.5],
                 duration: 600,
                 ease: 'inOutSine'
               }, 200)
               .add(arrowOutRight, {
                 translateX: [0, -3, 0],
                 opacity: [0.5, 1, 0.5],
                 duration: 600,
                 ease: 'inOutSine'
               }, 1200)
               .add(arrowOutLeft, {
                 translateX: [0, -3, 0],
                 opacity: [0.5, 1, 0.5],
                 duration: 600,
                 ease: 'inOutSine'
               }, 1400);
           }

           // Always-on availability - clock hands rotate
           if (event.fragment.id === 'need-availability') {
             const clockHands = event.fragment.querySelector('.clock-hands');

             anime.animate(clockHands, {
               rotate: 360,
               duration: 3000,
               ease: 'linear',
               loop: true
             });
           }

           // Sharing with others - line draws in, dot pulses
           if (event.fragment.id === 'need-sharing') {
             const line = event.fragment.querySelector('.connection-line');
             const dot = event.fragment.querySelector('.connection-dot');

             const lineDrawable = anime.svg.createDrawable(line);
             anime.animate(lineDrawable, {
               draw: ['0 0', '0 1'],
               duration: 600,
               ease: 'inOutSine'
             });

             anime.animate(dot, {
               scale: [0, 1.2, 1],
               duration: 400,
               delay: 600,
               ease: 'outElastic(1, .5)',
               onComplete: function() {
                 anime.animate(dot, {
                   scale: [1, 1.3, 1],
                   duration: 1000,
                   ease: 'inOutSine',
                   loop: true
                 });
               }
             });
           }

           // Backup & redundancy - docs stack in, checkmark draws
           if (event.fragment.id === 'need-backup') {
             const doc1 = event.fragment.querySelector('.doc-1');
             const doc2 = event.fragment.querySelector('.doc-2');
             const doc3 = event.fragment.querySelector('.doc-3');
             const checkmark = event.fragment.querySelector('.checkmark');

             const checkDrawable = anime.svg.createDrawable(checkmark);
             checkmark.style.opacity = '0';

             anime.createTimeline()
               .add(doc1, {
                 translateY: [-20, 0],
                 opacity: [0, 1],
                 duration: 300,
                 ease: 'outQuad'
               }, 0)
               .add(doc2, {
                 translateY: [-20, 0],
                 opacity: [0, 1],
                 duration: 300,
                 ease: 'outQuad'
               }, 150)
               .add(doc3, {
                 translateY: [-20, 0],
                 opacity: [0, 1],
                 duration: 300,
                 ease: 'outQuad'
               }, 300)
               .add(checkmark, {
                 opacity: [0, 1],
                 duration: 100
               }, 500)
               .add(checkDrawable, {
                 draw: ['0 0', '0 1'],
                 duration: 400,
                 ease: 'outQuad'
               }, 500);
           }
         });

        </script>
    </body>
</html>
